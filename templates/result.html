<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prediction Result</title>
    <script>
        function showDetails(index) {
            var foodItems = document.getElementsByClassName("food-details");
            for (var i = 0; i < foodItems.length; i++) {
                foodItems[i].style.display = "none";
            }
            document.getElementById("food-" + index).style.display = "block";
        }
    </script>
</head>
<body>
    <h2>Prediction Results</h2>
    <p><strong>Predicted Proteins:</strong> {{ proteins }} g</p>
    <p><strong>Predicted Carbohydrates:</strong> {{ carbs }} g</p>
    <p><strong>Predicted Calories:</strong> {{ calories }} kcal</p>

    <h2>Recommended Food Item</h2>
    {% if food_suggestions %}
    {% for food in food_suggestions %}
        <button onclick="showDetails({{ loop.index0 }})">{{ food.name }}</button>
    {% endfor %}

    <hr>

    {% for food in food_suggestions %}
        <div id="food-{{ loop.index0 }}" class="food-details" style="display: none;">
            <h3>{{ food.name }}</h3>
            <img src="{{ food.image }}" alt="Food Image" width="200"><br>
            <p><strong>Calories:</strong> {{ food.calories }} kcal</p>
            <p><strong>Proteins:</strong> {{ food.proteins }}g</p>
            <p><strong>Carbohydrates:</strong> {{ food.carbohydrates }}g</p>
            <p><strong>Fats:</strong> {{ food.fats }}g</p>
            <p><strong>Ingredients:</strong></p>
            <ul>
                {% for ingredient in food.ingredients %}
                    <li>{{ ingredient }}</li>
                {% endfor %}
            </ul>
            <a href="{{ food.url }}" target="_blank"><button>View Recipe</button></a>
        </div>
    {% endfor %}
    {% else %}
        <p>No matching food found.</p>
    {% endif %}
    <br>
    <a href="{{ url_for('profile') }}"><button>Back to Profile</button></a>
    <a href="{{ url_for('logout') }}"><button>Logout</button></a>
</body>
</html>
